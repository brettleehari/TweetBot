graph TB
    %% Application Entry Points & Initialization
    Start([ðŸš€ Application Start]) --> EnvLoad[âš™ï¸ Load Environment Variables]
    EnvLoad --> ServerInit[ðŸ“¡ Express Server Initialization]
    ServerInit --> DatabaseInit[(ðŸ—„ï¸ DatabaseService Connection)]
    ServerInit --> AgentManagerInit[ðŸ¤– AgentManager Auto-Initialization]
    ServerInit --> StaticServing[ðŸ“ Static File Serving]
    ServerInit --> DashboardServe[ðŸ–¥ï¸ Dashboard Server Start]
    
    %% Agent Manager System
    AgentManagerInit --> AgentSystemStart[âš¡ Agent System Auto-Startup]
    AgentSystemStart --> StrategicOrchestrator[ðŸŽ¯ Strategic Orchestrator Agent]
    AgentSystemStart --> MarketHunter[ðŸ“Š Market Hunter Agent] 
    AgentSystemStart --> DataCollector[ðŸ“ˆ Data Collector Agent]
    AgentSystemStart --> ContentCreator[ðŸ“ Content Creator Agent]
    
    %% Live Agent Decision Cycles
    AgentSystemStart --> TimingCycles[â° Automated Decision Cycles]
    TimingCycles --> Cycle1min[ðŸ• 1-min Quick Market Check]
    TimingCycles --> Cycle5min[ðŸ•” 5-min Detailed Analysis]
    TimingCycles --> Cycle15min[ðŸ• 15-min Strategy Review]
    TimingCycles --> Cycle1hr[ðŸ• 1-hour Performance Review]
    TimingCycles --> CycleDaily[ðŸ• Daily Strategic Planning]
    TimingCycles --> InitialDecisions[ðŸš€ Immediate Initial Decisions]
    
    %% Agent Decision Making Process
    Cycle1min --> AgentDecisionEngine{ðŸ§  Agent Decision Engine}
    Cycle5min --> AgentDecisionEngine
    Cycle15min --> AgentDecisionEngine
    Cycle1hr --> AgentDecisionEngine
    CycleDaily --> AgentDecisionEngine
    InitialDecisions --> AgentDecisionEngine
    
    %% Real-time Data Integration
    ExternalAPIs[ðŸŒ External APIs] --> CoinGeckoAPI[ðŸ’° CoinGecko Price API]
    ExternalAPIs --> NewsAPI[ðŸ“° NewsAPI Feed]
    CoinGeckoAPI --> MarketDataFlow[ðŸ“Š Live Market Data]
    NewsAPI --> NewsDataFlow[ðŸ“° News Feed Data]
    
    MarketDataFlow --> AgentDecisionEngine
    NewsDataFlow --> AgentDecisionEngine
    
    %% Decision Processing
    AgentDecisionEngine --> DecisionGeneration[âš¡ Generate Decision]
    DecisionGeneration --> ConfidenceCalc[ðŸ“Š Calculate Confidence Score (70-100%)]
    ConfidenceCalc --> ReasoningGen[ðŸ§¾ Generate Reasoning]
    ReasoningGen --> ExecutionCheck{âœ… Should Execute? (80% Rate)}
    
    ExecutionCheck -->|Yes (80%)| ExecuteDecision[âš¡ Execute Decision]
    ExecutionCheck -->|No (20%)| SkipDecision[â­ï¸ Skip Decision]
    
    %% Live Decision Logging & Statistics
    ExecuteDecision --> LogDecision[ðŸ“ Log Decision to Array]
    SkipDecision --> LogDecision
    LogDecision --> UpdateAgentStats[ðŸ“Š Update Agent Statistics]
    LogDecision --> DecisionBuffer[ðŸ’¾ Decision History Buffer (100 max)]
    UpdateAgentStats --> AgentPerformance[ðŸ“ˆ Agent Performance Tracking]
    UpdateAgentStats --> DatabaseLog[(ðŸ—„ï¸ Database Logging)]
    
    %% Complete API Endpoint System
    DashboardServe --> DashboardAPI[ðŸ”Œ Complete API Endpoints]
    DashboardAPI --> BitcoinPriceAPI[/api/bitcoin-price]
    DashboardAPI --> BitcoinNewsAPI[/api/bitcoin-news]
    DashboardAPI --> MarketAnalysisAPI[/api/market-analysis]
    DashboardAPI --> AgentStatusAPI[/api/agent-status]
    DashboardAPI --> AgentDecisionsAPI[/api/agent-decisions] 
    DashboardAPI --> AgentLogsAPI[/api/agent-logs]
    DashboardAPI --> PerformanceAPI[/api/performance]
    DashboardAPI --> PortfolioAPI[/api/portfolio]
    DashboardAPI --> ExecutionProgressAPI[/api/execution-progress]
    DashboardAPI --> GenerateContentAPI[/api/generate-content]
    DashboardAPI --> TradeHistoryAPI[/api/trade-history]
    DashboardAPI --> HealthAPI[/api/health]
    
    %% Live Agent Data Flow
    AgentPerformance --> AgentStatusAPI
    DecisionBuffer --> AgentDecisionsAPI
    DatabaseLog --> AgentLogsAPI
    
    %% Dashboard Auto-Refresh System
    DashboardServe --> AutoRefresh[ðŸ”„ Auto-refresh every 60s]
    AutoRefresh --> RefreshAgentStatus[ðŸ“Š Refresh Agent Status]
    AutoRefresh --> RefreshDecisions[ðŸ’­ Refresh Recent Decisions]
    AutoRefresh --> RefreshLogs[ðŸ“‹ Refresh Execution Logs]
    AutoRefresh --> RefreshPortfolio[ðŸ’° Refresh Portfolio Data]
    
    RefreshAgentStatus --> AgentStatusAPI
    RefreshDecisions --> AgentDecisionsAPI  
    RefreshLogs --> AgentLogsAPI
    RefreshPortfolio --> PortfolioAPI
    
    %% Agent Goal-Based Actions
    ExecuteDecision --> ActionRouter{ðŸŽ¯ Action Type Router}
    ActionRouter -->|quick_market_check| QuickAction[âš¡ Quick Market Signal]
    ActionRouter -->|detailed_analysis| AnalysisAction[ðŸ” Technical Analysis]
    ActionRouter -->|strategy_review| StrategyAction[ðŸ“‹ Strategy Adjustment]
    ActionRouter -->|performance_review| PerformanceAction[ðŸ“Š Performance Assessment]
    ActionRouter -->|strategic_planning| PlanningAction[ðŸŽ¯ Strategic Planning]
    ActionRouter -->|content_planning| ContentAction[ðŸ“ Content Creation]
    
    %% Trading Scenario Integration
    QuickAction --> ScenarioMatcher{ðŸŽ¯ Match Trading Scenario}
    AnalysisAction --> ScenarioMatcher
    StrategyAction --> ScenarioMatcher
    ScenarioMatcher -->|Bull Market| BullScenario[ðŸ“ˆ Bull Market Strategy]
    ScenarioMatcher -->|Bear Market| BearScenario[ðŸ“‰ Bear Market Strategy]
    ScenarioMatcher -->|Range-Bound| RangeScenario[ðŸŒŠ Range-Bound Strategy]
    ScenarioMatcher -->|Volatile| VolatileScenario[âš¡ High Volatility Strategy]
    ScenarioMatcher -->|Breakout| BreakoutScenario[ðŸš€ Breakout Strategy]
    ScenarioMatcher -->|Recovery| RecoveryScenario[ðŸ”„ Recovery Strategy]
    
    %% Strategy Execution
    BullScenario --> StrategyExecution[âš¡ Execute Trading Strategy]
    BearScenario --> StrategyExecution
    RangeScenario --> StrategyExecution
    VolatileScenario --> StrategyExecution
    BreakoutScenario --> StrategyExecution
    RecoveryScenario --> StrategyExecution
    
    StrategyExecution --> RiskMgmt[ðŸ›¡ï¸ Apply Risk Rules]
    RiskMgmt --> PositionSize[ðŸ“Š Calculate Position]
    PositionSize --> TradeExecution[ðŸ’« Execute Trade]
    
    %% Portfolio Management
    TradeExecution --> PortfolioUpdate[ðŸ“Š Update Portfolio]
    PortfolioUpdate --> PerformanceCalc[ðŸ“ˆ Calculate Performance]
    PerformanceCalc --> GoalProgress[ðŸŽ¯ Assess Goal Progress]
    GoalProgress --> FeedbackLoop[ðŸ”„ Agent Learning Feedback]
    FeedbackLoop --> AgentDecisionEngine
    
    %% Live Status Broadcasting
    AgentPerformance --> LiveStatus[ðŸ“¡ Live Agent Status]
    LiveStatus --> DashboardBroadcast[ðŸ“º Dashboard Real-time Updates]
    PerformanceCalc --> LivePerformance[ðŸ“Š Live Performance Metrics]
    LivePerformance --> DashboardBroadcast
    
    %% Agent Decision History & Optimization
    DecisionBuffer --> DecisionHistory[ðŸ“š Decision History Analysis]
    DecisionHistory --> TrendAnalysis[ðŸ“ˆ Decision Trend Analysis]
    TrendAnalysis --> AgentOptimization[ðŸ”§ Agent Performance Optimization]
    AgentOptimization --> FeedbackLoop
    
    %% 6-Tab Dashboard Integration
    DashboardBroadcast --> Tab1[ðŸ“Š Portfolio Overview]
    DashboardBroadcast --> Tab2[ðŸ“ˆ Trading Scenarios] 
    DashboardBroadcast --> Tab3[ðŸ¤– Agent Status]
    DashboardBroadcast --> Tab4[ðŸ“‹ Execution Logs]
    DashboardBroadcast --> Tab5[ðŸ“Š Performance Metrics]
    DashboardBroadcast --> Tab6[ðŸŽ¯ Strategic Overview]
    
    %% Static File Serving & Additional Routes
    StaticServing --> PublicFiles[ðŸ“ /public Static Files]
    StaticServing --> DocsFiles[ðŸ“ /docs Documentation]
    StaticServing --> ScenarioRoutes[ðŸŽ¯ Trading Scenario Routes]
    StaticServing --> DebugRoutes[ðŸ”§ Debug & Test Routes]
    
    %% Server Health & Monitoring
    DashboardAPI --> ServerHealth[ðŸ’š Server Health Monitoring]
    ServerHealth --> HealthAPI
    DatabaseInit --> DBHealth[ðŸ—„ï¸ Database Health Check]
    DBHealth --> ServerHealth

    %% Color coding for clarity
    classDef entryPoint fill:#2ecc71,stroke:#27ae60,strokgraph TB
    %% Application Entry Points & Initialization
    Start([ðŸš€ Application Start]) --> EnvLoad[âš™ï¸ Load Environment Variables]
    EnvLoad --> ServerInit[ðŸ“¡ Express Server Initialization]
    ServerInit --> DatabaseInit[(ðŸ—„ï¸ DatabaseService Connection)]
    ServerInit --> AgentManagerInit[ðŸ¤– AgentManager Auto-Initialization]
    ServerInit --> StaticServing[ðŸ“ Static File Serving]
    ServerInit --> DashboardServe[ðŸ–¥ï¸ Dashboard Server Start]
    
    %% Agent Manager System
    AgentManagerInit --> AgentSystemStart[âš¡ Agent System Auto-Startup]
    AgentSystemStart --> StrategicOrchestrator[ðŸŽ¯ Strategic Orchestrator Agent]
    AgentSystemStart --> MarketHunter[ðŸ“Š Market Hunter Agent] 
    AgentSystemStart --> DataCollector[ðŸ“ˆ Data Collector Agent]
    AgentSystemStart --> ContentCreator[ðŸ“ Content Creator Agent]
    
    %% Live Agent Decision Cycles
    AgentSystemStart --> TimingCycles[â° Automated Decision Cycles]
    TimingCycles --> Cycle1min[ðŸ• 1-min Quick Market Check]
    TimingCycles --> Cycle5min[ðŸ•” 5-min Detailed Analysis]
    TimingCycles --> Cycle15min[ðŸ• 15-min Strategy Review]
    TimingCycles --> Cycle1hr[ðŸ• 1-hour Performance Review]
    TimingCycles --> CycleDaily[ðŸ• Daily Strategic Planning]
    TimingCycles --> InitialDecisions[ðŸš€ Immediate Initial Decisions]
    
    %% Agent Decision Making Process
    Cycle1min --> AgentDecisionEngine{ðŸ§  Agent Decision Engine}
    Cycle5min --> AgentDecisionEngine
    Cycle15min --> AgentDecisionEngine
    Cycle1hr --> AgentDecisionEngine
    CycleDaily --> AgentDecisionEngine
    InitialDecisions --> AgentDecisionEngine
    
    %% Real-time Data Integration
    ExternalAPIs[ðŸŒ External APIs] --> CoinGeckoAPI[ðŸ’° CoinGecko Price API]
    ExternalAPIs --> NewsAPI[ðŸ“° NewsAPI Feed]
    CoinGeckoAPI --> MarketDataFlow[ðŸ“Š Live Market Data]
    NewsAPI --> NewsDataFlow[ðŸ“° News Feed Data]
    
    MarketDataFlow --> AgentDecisionEngine
    NewsDataFlow --> AgentDecisionEngine
    
    %% Decision Processing
    AgentDecisionEngine --> DecisionGeneration[âš¡ Generate Decision]
    DecisionGeneration --> ConfidenceCalc[ðŸ“Š Calculate Confidence Score (70-100%)]
    ConfidenceCalc --> ReasoningGen[ðŸ§¾ Generate Reasoning]
    ReasoningGen --> ExecutionCheck{âœ… Should Execute? (80% Rate)}
    
    ExecutionCheck -->|Yes (80%)| ExecuteDecision[âš¡ Execute Decision]
    ExecutionCheck -->|No (20%)| SkipDecision[â­ï¸ Skip Decision]
    
    %% Live Decision Logging & Statistics
    ExecuteDecision --> LogDecision[ðŸ“ Log Decision to Array]
    SkipDecision --> LogDecision
    LogDecision --> UpdateAgentStats[ðŸ“Š Update Agent Statistics]
    LogDecision --> DecisionBuffer[ðŸ’¾ Decision History Buffer (100 max)]
    UpdateAgentStats --> AgentPerformance[ðŸ“ˆ Agent Performance Tracking]
    UpdateAgentStats --> DatabaseLog[(ðŸ—„ï¸ Database Logging)]
    
    %% Complete API Endpoint System
    DashboardServe --> DashboardAPI[ðŸ”Œ Complete API Endpoints]
    DashboardAPI --> BitcoinPriceAPI[/api/bitcoin-price]
    DashboardAPI --> BitcoinNewsAPI[/api/bitcoin-news]
    DashboardAPI --> MarketAnalysisAPI[/api/market-analysis]
    DashboardAPI --> AgentStatusAPI[/api/agent-status]
    DashboardAPI --> AgentDecisionsAPI[/api/agent-decisions] 
    DashboardAPI --> AgentLogsAPI[/api/agent-logs]
    DashboardAPI --> PerformanceAPI[/api/performance]
    DashboardAPI --> PortfolioAPI[/api/portfolio]
    DashboardAPI --> ExecutionProgressAPI[/api/execution-progress]
    DashboardAPI --> GenerateContentAPI[/api/generate-content]
    DashboardAPI --> TradeHistoryAPI[/api/trade-history]
    DashboardAPI --> HealthAPI[/api/health]
    
    %% Live Agent Data Flow
    AgentPerformance --> AgentStatusAPI
    DecisionBuffer --> AgentDecisionsAPI
    DatabaseLog --> AgentLogsAPI
    
    %% Dashboard Auto-Refresh System
    DashboardServe --> AutoRefresh[ðŸ”„ Auto-refresh every 60s]
    AutoRefresh --> RefreshAgentStatus[ðŸ“Š Refresh Agent Status]
    AutoRefresh --> RefreshDecisions[ðŸ’­ Refresh Recent Decisions]
    AutoRefresh --> RefreshLogs[ðŸ“‹ Refresh Execution Logs]
    AutoRefresh --> RefreshPortfolio[ðŸ’° Refresh Portfolio Data]
    
    RefreshAgentStatus --> AgentStatusAPI
    RefreshDecisions --> AgentDecisionsAPI  
    RefreshLogs --> AgentLogsAPI
    RefreshPortfolio --> PortfolioAPI
    
    %% Agent Goal-Based Actions
    ExecuteDecision --> ActionRouter{ðŸŽ¯ Action Type Router}
    ActionRouter -->|quick_market_check| QuickAction[âš¡ Quick Market Signal]
    ActionRouter -->|detailed_analysis| AnalysisAction[ðŸ” Technical Analysis]
    ActionRouter -->|strategy_review| StrategyAction[ðŸ“‹ Strategy Adjustment]
    ActionRouter -->|performance_review| PerformanceAction[ðŸ“Š Performance Assessment]
    ActionRouter -->|strategic_planning| PlanningAction[ðŸŽ¯ Strategic Planning]
    ActionRouter -->|content_planning| ContentAction[ðŸ“ Content Creation]
    
    %% Trading Scenario Integration
    QuickAction --> ScenarioMatcher{ðŸŽ¯ Match Trading Scenario}
    AnalysisAction --> ScenarioMatcher
    StrategyAction --> ScenarioMatcher
    ScenarioMatcher -->|Bull Market| BullScenario[ðŸ“ˆ Bull Market Strategy]
    ScenarioMatcher -->|Bear Market| BearScenario[ðŸ“‰ Bear Market Strategy]
    ScenarioMatcher -->|Range-Bound| RangeScenario[ðŸŒŠ Range-Bound Strategy]
    ScenarioMatcher -->|Volatile| VolatileScenario[âš¡ High Volatility Strategy]
    ScenarioMatcher -->|Breakout| BreakoutScenario[ðŸš€ Breakout Strategy]
    ScenarioMatcher -->|Recovery| RecoveryScenario[ðŸ”„ Recovery Strategy]
    
    %% Strategy Execution
    BullScenario --> StrategyExecution[âš¡ Execute Trading Strategy]
    BearScenario --> StrategyExecution
    RangeScenario --> StrategyExecution
    VolatileScenario --> StrategyExecution
    BreakoutScenario --> StrategyExecution
    RecoveryScenario --> StrategyExecution
    
    StrategyExecution --> RiskMgmt[ðŸ›¡ï¸ Apply Risk Rules]
    RiskMgmt --> PositionSize[ðŸ“Š Calculate Position]
    PositionSize --> TradeExecution[ðŸ’« Execute Trade]
    
    %% Portfolio Management
    TradeExecution --> PortfolioUpdate[ðŸ“Š Update Portfolio]
    PortfolioUpdate --> PerformanceCalc[ðŸ“ˆ Calculate Performance]
    PerformanceCalc --> GoalProgress[ðŸŽ¯ Assess Goal Progress]
    GoalProgress --> FeedbackLoop[ðŸ”„ Agent Learning Feedback]
    FeedbackLoop --> AgentDecisionEngine
    
    %% Live Status Broadcasting
    AgentPerformance --> LiveStatus[ðŸ“¡ Live Agent Status]
    LiveStatus --> DashboardBroadcast[ðŸ“º Dashboard Real-time Updates]
    PerformanceCalc --> LivePerformance[ðŸ“Š Live Performance Metrics]
    LivePerformance --> DashboardBroadcast
    
    %% Agent Decision History & Optimization
    DecisionBuffer --> DecisionHistory[ðŸ“š Decision History Analysis]
    DecisionHistory --> TrendAnalysis[ðŸ“ˆ Decision Trend Analysis]
    TrendAnalysis --> AgentOptimization[ðŸ”§ Agent Performance Optimization]
    AgentOptimization --> FeedbackLoop
    
    %% 6-Tab Dashboard Integration
    DashboardBroadcast --> Tab1[ðŸ“Š Portfolio Overview]
    DashboardBroadcast --> Tab2[ðŸ“ˆ Trading Scenarios] 
    DashboardBroadcast --> Tab3[ðŸ¤– Agent Status]
    DashboardBroadcast --> Tab4[ðŸ“‹ Execution Logs]
    DashboardBroadcast --> Tab5[ðŸ“Š Performance Metrics]
    DashboardBroadcast --> Tab6[ðŸŽ¯ Strategic Overview]
    
    %% Static File Serving & Additional Routes
    StaticServing --> PublicFiles[ðŸ“ /public Static Files]
    StaticServing --> DocsFiles[ðŸ“ /docs Documentation]
    StaticServing --> ScenarioRoutes[ðŸŽ¯ Trading Scenario Routes]
    StaticServing --> DebugRoutes[ðŸ”§ Debug & Test Routes]
    
    %% Server Health & Monitoring
    DashboardAPI --> ServerHealth[ðŸ’š Server Health Monitoring]
    ServerHealth --> HealthAPI
    DatabaseInit --> DBHealth[ðŸ—„ï¸ Database Health Check]
    DBHealth --> ServerHealth

    %% Color coding for clarity
    classDef entryPoint fill:#2ecc71,stroke:#27ae60,stroke-width:3px,color:#fff
    classDef agentCore fill:#e74c3c,stroke:#c0392b,stroke-width:3px,color:#fff  
    classDef decision fill:#f39c12,stroke:#e67e22,stroke-width:2px,color:#fff
    classDef execution fill:#9b59b6,stroke:#8e44ad,stroke-width:2px,color:#fff
    classDef timing fill:#3498db,stroke:#2980b9,stroke-width:2px,color:#fff
    classDef data fill:#95a5a6,stroke:#7f8c8d,stroke-width:2px,color:#fff
    classDef api fill:#1abc9c,stroke:#16a085,stroke-width:2px,color:#fff
    classDef dashboard fill:#34495e,stroke:#2c3e50,stroke-width:2px,color:#fff
    classDef external fill:#e67e22,stroke:#d35400,stroke-width:2px,color:#fff
    
    class Start,EnvLoad,ServerInit,AgentManagerInit entryPoint
    class AgentSystemStart,StrategicOrchestrator,MarketHunter,DataCollector,ContentCreator agentCore
    class AgentDecisionEngine,DecisionGeneration,ExecutionCheck,ActionRouter,ScenarioMatcher decision
    class ExecuteDecision,TradeExecution,StrategyExecution execution
    class TimingCycles,Cycle1min,Cycle5min,Cycle15min,Cycle1hr,CycleDaily timing
    class MarketDataFlow,NewsDataFlow,DatabaseLog,DecisionHistory,DecisionBuffer data
    class DashboardAPI,AgentStatusAPI,AgentDecisionsAPI,AgentLogsAPI,BitcoinPriceAPI,BitcoinNewsAPI api
    class DashboardServe,DashboardBroadcast,Tab1,Tab2,Tab3,Tab4,Tab5,Tab6 dashboard
    class ExternalAPIs,CoinGeckoAPI,NewsAPI externale-width:3px,color:#fff
    classDef agentCore fill:#e74c3c,stroke:#c0392b,stroke-width:3px,color:#fff  
    classDef decision fill:#f39c12,stroke:#e67e22,stroke-width:2px,color:#fff
    classDef execution fill:#9b59b6,stroke:#8e44ad,stroke-width:2px,color:#fff
    classDef timing fill:#3498db,stroke:#2980b9,stroke-width:2px,color:#fff
    classDef data fill:#95a5a6,stroke:#7f8c8d,stroke-width:2px,color:#fff
    classDef api fill:#1abc9c,stroke:#16a085,stroke-width:2px,color:#fff
    classDef dashboard fill:#34495e,stroke:#2c3e50,stroke-width:2px,color:#fff
    classDef external fill:#e67e22,stroke:#d35400,stroke-width:2px,color:#fff
    
    class Start,EnvLoad,ServerInit,AgentManagerInit entryPoint
    class AgentSystemStart,StrategicOrchestrator,MarketHunter,DataCollector,ContentCreator agentCore
    class AgentDecisionEngine,DecisionGeneration,ExecutionCheck,ActionRouter,ScenarioMatcher decision
    class ExecuteDecision,TradeExecution,StrategyExecution execution
    class TimingCycles,Cycle1min,Cycle5min,Cycle15min,Cycle1hr,CycleDaily timing
    class MarketDataFlow,NewsDataFlow,DatabaseLog,DecisionHistory,DecisionBuffer data
    class DashboardAPI,AgentStatusAPI,AgentDecisionsAPI,AgentLogsAPI,BitcoinPriceAPI,BitcoinNewsAPI api
    class DashboardServe,DashboardBroadcast,Tab1,Tab2,Tab3,Tab4,Tab5,Tab6 dashboard
    class ExternalAPIs,CoinGeckoAPI,NewsAPI externalAnalysis]
    TimingCycles --> Cycle15min[ðŸ• 15-min Strategy Review]
    TimingCycles --> Cycle1hr[ðŸ• 1-hour Performance Review]
    TimingCycles --> CycleDaily[ðŸ• Daily Strategic Planning]
    TimingCycles --> InitialDecisions[ðŸš€ Immediate Initial Decisions]
    
    %% Agent Decision Making Process
    Cycle1min --> AgentDecisionEngine{ðŸ§  Agent Decision Engine}
    Cycle5min --> AgentDecisionEngine
    Cycle15min --> AgentDecisionEngine
    Cycle1hr --> AgentDecisionEngine
    CycleDaily --> AgentDecisionEngine
    InitialDecisions --> AgentDecisionEngine
    
    %% Real-time Data Integration
    ExternalAPIs[ðŸŒ External APIs] --> CoinGeckoAPI[ðŸ’° CoinGecko Price API]
    ExternalAPIs --> NewsAPI[ðŸ“° NewsAPI Feed]
    CoinGeckoAPI --> MarketDataFlow[ðŸ“Š Live Market Data]
    NewsAPI --> NewsDataFlow[ðŸ“° News Feed Data]
    
    MarketDataFlow --> AgentDecisionEngine
    NewsDataFlow --> AgentDecisionEngine
    
    %% Decision Processing
    AgentDecisionEngine --> DecisionGeneration[âš¡ Generate Decision]
    DecisionGeneration --> ConfidenceCalc[ðŸ“Š Calculate Confidence Score (70-100%)]
    ConfidenceCalc --> ReasoningGen[ðŸ§¾ Generate Reasoning]
    ReasoningGen --> ExecutionCheck{âœ… Should Execute? (80% Rate)}
    
    ExecutionCheck -->|Yes (80%)| ExecuteDecision[âš¡ Execute Decision]
    ExecutionCheck -->|No (20%)| SkipDecision[â­ï¸ Skip Decision]
    
    %% Live Decision Logging & Statistics
    ExecuteDecision --> LogDecision[ðŸ“ Log Decision to Array]
    SkipDecision --> LogDecision
    LogDecision --> UpdateAgentStats[ðŸ“Š Update Agent Statistics]
    LogDecision --> DecisionBuffer[ðŸ’¾ Decision History Buffer (100 max)]
    UpdateAgentStats --> AgentPerformance[ðŸ“ˆ Agent Performance Tracking]
    UpdateAgentStats --> DatabaseLog[(ðŸ—„ï¸ Database Logging)]
    
    %% Complete API Endpoint System
    DashboardServe --> DashboardAPI[ðŸ”Œ Complete API Endpoints]
    DashboardAPI --> BitcoinPriceAPI[/api/bitcoin-price]
    DashboardAPI --> BitcoinNewsAPI[/api/bitcoin-news]
    DashboardAPI --> MarketAnalysisAPI[/api/market-analysis]
    DashboardAPI --> AgentStatusAPI[/api/agent-status]
    DashboardAPI --> AgentDecisionsAPI[/api/agent-decisions] 
    DashboardAPI --> AgentLogsAPI[/api/agent-logs]
    DashboardAPI --> PerformanceAPI[/api/performance]
    DashboardAPI --> PortfolioAPI[/api/portfolio]
    DashboardAPI --> ExecutionProgressAPI[/api/execution-progress]
    DashboardAPI --> GenerateContentAPI[/api/generate-content]
    DashboardAPI --> TradeHistoryAPI[/api/trade-history]
    DashboardAPI --> HealthAPI[/api/health]
    
    %% Live Agent Data Flow
    AgentPerformance --> AgentStatusAPI
    DecisionBuffer --> AgentDecisionsAPI
    DatabaseLog --> AgentLogsAPI
    
    %% Dashboard Auto-Refresh System
    DashboardServe --> AutoRefresh[ðŸ”„ Auto-refresh every 60s]
    AutoRefresh --> RefreshAgentStatus[ðŸ“Š Refresh Agent Status]
    AutoRefresh --> RefreshDecisions[ðŸ’­ Refresh Recent Decisions]
    AutoRefresh --> RefreshLogs[ðŸ“‹ Refresh Execution Logs]
    AutoRefresh --> RefreshPortfolio[ðŸ’° Refresh Portfolio Data]
    
    RefreshAgentStatus --> AgentStatusAPI
    RefreshDecisions --> AgentDecisionsAPI  
    RefreshLogs --> AgentLogsAPI
    RefreshPortfolio --> PortfolioAPI
    
    %% Agent Goal-Based Actions
    ExecuteDecision --> ActionRouter{ðŸŽ¯ Action Type Router}
    ActionRouter -->|quick_market_check| QuickAction[âš¡ Quick Market Signal]
    ActionRouter -->|detailed_analysis| AnalysisAction[ðŸ” Technical Analysis]
    ActionRouter -->|strategy_review| StrategyAction[ðŸ“‹ Strategy Adjustment]
    ActionRouter -->|performance_review| PerformanceAction[ðŸ“Š Performance Assessment]
    ActionRouter -->|strategic_planning| PlanningAction[ðŸŽ¯ Strategic Planning]
    ActionRouter -->|content_planning| ContentAction[ðŸ“ Content Creation]
    
    %% Trading Scenario Integration
    QuickAction --> ScenarioMatcher{ðŸŽ¯ Match Trading Scenario}
    AnalysisAction --> ScenarioMatcher
    StrategyAction --> ScenarioMatcher
    ScenarioMatcher -->|Bull Market| BullScenario[ðŸ“ˆ Bull Market Strategy]
    ScenarioMatcher -->|Bear Market| BearScenario[ðŸ“‰ Bear Market Strategy]
    ScenarioMatcher -->|Range-Bound| RangeScenario[ðŸŒŠ Range-Bound Strategy]
    ScenarioMatcher -->|Volatile| VolatileScenario[âš¡ High Volatility Strategy]
    ScenarioMatcher -->|Breakout| BreakoutScenario[ðŸš€ Breakout Strategy]
    ScenarioMatcher -->|Recovery| RecoveryScenario[ðŸ”„ Recovery Strategy]
    
    %% Strategy Execution
    BullScenario --> StrategyExecution[âš¡ Execute Trading Strategy]
    BearScenario --> StrategyExecution
    RangeScenario --> StrategyExecution
    VolatileScenario --> StrategyExecution
    BreakoutScenario --> StrategyExecution
    RecoveryScenario --> StrategyExecution
    
    StrategyExecution --> RiskMgmt[ðŸ›¡ï¸ Apply Risk Rules]
    RiskMgmt --> PositionSize[ðŸ“Š Calculate Position]
    PositionSize --> TradeExecution[ðŸ’« Execute Trade]
    
    %% Portfolio Management
    TradeExecution --> PortfolioUpdate[ðŸ“Š Update Portfolio]
    PortfolioUpdate --> PerformanceCalc[ðŸ“ˆ Calculate Performance]
    PerformanceCalc --> GoalProgress[ðŸŽ¯ Assess Goal Progress]
    GoalProgress --> FeedbackLoop[ðŸ”„ Agent Learning Feedback]
    FeedbackLoop --> AgentDecisionEngine
    
    %% Live Status Broadcasting
    AgentPerformance --> LiveStatus[ðŸ“¡ Live Agent Status]
    LiveStatus --> DashboardBroadcast[ðŸ“º Dashboard Real-time Updates]
    PerformanceCalc --> LivePerformance[ðŸ“Š Live Performance Metrics]
    LivePerformance --> DashboardBroadcast
    
    %% Agent Decision History & Optimization
    DecisionBuffer --> DecisionHistory[ðŸ“š Decision History Analysis]
    DecisionHistory --> TrendAnalysis[ðŸ“ˆ Decision Trend Analysis]
    TrendAnalysis --> AgentOptimization[ðŸ”§ Agent Performance Optimization]
    AgentOptimization --> FeedbackLoop
    
    %% 6-Tab Dashboard Integration
    DashboardBroadcast --> Tab1[ðŸ“Š Portfolio Overview]
    DashboardBroadcast --> Tab2[ðŸ“ˆ Trading Scenarios] 
    DashboardBroadcast --> Tab3[ðŸ¤– Agent Status]
    DashboardBroadcast --> Tab4[ðŸ“‹ Execution Logs]
    DashboardBroadcast --> Tab5[ðŸ“Š Performance Metrics]
    DashboardBroadcast --> Tab6[ðŸŽ¯ Strategic Overview]
    
    %% Static File Serving & Additional Routes
    StaticServing --> PublicFiles[ðŸ“ /public Static Files]
    StaticServing --> DocsFiles[ðŸ“ /docs Documentation]
    StaticServing --> ScenarioRoutes[ðŸŽ¯ Trading Scenario Routes]
    StaticServing --> DebugRoutes[ðŸ”§ Debug & Test Routes]
    
    %% Server Health & Monitoring
    DashboardAPI --> ServerHealth[ðŸ’š Server Health Monitoring]
    ServerHealth --> HealthAPI
    DatabaseInit --> DBHealth[ðŸ—„ï¸ Database Health Check]
    DBHealth --> ServerHealth

    %% Color coding for clarity
    classDef entryPoint fill:#2ecc71,stroke:#27ae60,stroke-width:3px,color:#fff
    classDef agentCore fill:#e74c3c,stroke:#c0392b,stroke-width:3px,color:#fff  
    classDef decision fill:#f39c12,stroke:#e67e22,stroke-width:2px,color:#fff
    classDef execution fill:#9b59b6,stroke:#8e44ad,stroke-width:2px,color:#fff
    classDef timing fill:#3498db,stroke:#2980b9,stroke-width:2px,color:#fff
    classDef data fill:#95a5a6,stroke:#7f8c8d,stroke-width:2px,color:#fff
    classDef api fill:#1abc9c,stroke:#16a085,stroke-width:2px,color:#fff
    classDef dashboard fill:#34495e,stroke:#2c3e50,stroke-width:2px,color:#fff
    classDef external fill:#e67e22,stroke:#d35400,stroke-width:2px,color:#fff
    
    class Start,EnvLoad,ServerInit,AgentManagerInit entryPoint
    class AgentSystemStart,StrategicOrchestrator,MarketHunter,DataCollector,ContentCreator agentCore
    class AgentDecisionEngine,DecisionGeneration,ExecutionCheck,ActionRouter,ScenarioMatcher decision
    class ExecuteDecision,TradeExecution,StrategyExecution execution
    class TimingCycles,Cycle1min,Cycle5min,Cycle15min,Cycle1hr,CycleDaily timing
    class MarketDataFlow,NewsDataFlow,DatabaseLog,DecisionHistory,DecisionBuffer data
    class DashboardAPI,AgentStatusAPI,AgentDecisionsAPI,AgentLogsAPI,BitcoinPriceAPI,BitcoinNewsAPI api
    class DashboardServe,DashboardBroadcast,Tab1,Tab2,Tab3,Tab4,Tab5,Tab6 dashboard
    class ExternalAPIs,CoinGeckoAPI,NewsAPI external